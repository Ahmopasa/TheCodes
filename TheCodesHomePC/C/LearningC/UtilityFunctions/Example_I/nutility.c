//#define _CRT_SECURE_NO_WARNINGS

#include "nutility.h"
#include <stdio.h>
#include <time.h>
#include <stdlib.h>

const int sbc_[] = {
	0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4,
	1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5,
	1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7,
	1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7,
	3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7,
	4, 5, 5, 6, 5, 6, 6, 7, 5, 6, 6, 7, 6, 7, 7, 8, };


static int icmp(const void *vp1, const void *vp2);


void quick_sort(int *p, size_t size)
{
	qsort(p, size, sizeof(*p), &icmp);
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
int ndigit(int val)
{
	if (val == 0)
		return 1;

	int digit_count = 0;

	while (val) {
		++digit_count;
		val /= 10;
	}

	return digit_count;
}

//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
int isprime(int val)
{
	if (val == 0 || val == 1)
		return 0;

	if (val % 2 == 0)
		return val == 2;

	if (val % 3 == 0)
		return val == 3;

	if (val % 5 == 0)
		return val == 5;

	for (int k = 7; k * k <= val; k += 2)
		if (val % k == 0)
			return 0;

	return 1;
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void sl(void)
{
	printf("\n*******************************************************************************\n");
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void sleep(double sec)
{
	clock_t start = clock();

	while ((double)(clock() - start) / CLOCKS_PER_SEC < sec)
		; //null statement
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void swap(int *p1, int *p2)
{
	int temp = *p1;
	*p1 = *p2;
	*p2 = temp;
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
//tomohako sakomoto algorithm
int day_of_week(int d, int m, int y)
{
	static const int t[] = { 0, 3, 2, 5, 0, 3, 5, 1, 4, 6, 2, 4 };
	y -= m < 3;

	return (y + y / 4 - y / 100 + y / 400 + t[m - 1] + d) % 7;
}
//----------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------
void randomize(void)
{
	srand((unsigned)time(NULL));
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void display_array(const int *p, size_t size)
{
	for (size_t i = 0; i < size; ++i) 
		printf("%3d%c", p[i], i % 20 == 19 ? '\n' : ' ');

	putchar('\n');
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void bsort(int *p, size_t size)
{
	for (size_t i = 0; i < size - 1; ++i) {
		for (size_t k = 0; k < size - 1 - i; ++k) {
			if (p[k] > p[k + 1]) {
				swap(p + k, p + k + 1);
			}
		}
	}
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
char *sgets(char *ptr)
{
	int c;

	char *ptemp = ptr;
	while ((c = getchar()) != '\n' && c != EOF)
		*ptr++ = (char)c;

	*ptr = '\0';

	return ptemp;
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void set_random_array(int *p, size_t size)
{
	while (size--) {
		*p = rand() % 1000;
		++p;
	}
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void gswap(void *vp1, void  *vp2, size_t n)
{
	char *p1 = (char *)vp1;
	char *p2 = (char *)vp2;

	while (n--) {
		char c = *p1;
		*p1++ = *p2;
		*p2++ = c;
	}
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void* checked_malloc(size_t n)
{
	void *vp = malloc(n);
	if (vp == NULL) {
		printf("bellek yetersiz\n");
		exit(EXIT_FAILURE);
	}
	return vp;
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
int get_array_max(const int *ptr, size_t size)
{
	int max = *ptr;

	for (size_t i = 1; i < size; ++i)
		if (ptr[i] > max)
			max = ptr[i];

	return max;
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
double drand(void)
{
	return (double)rand() / RAND_MAX + rand() % 10;
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
void bprint(int x)
{
	unsigned int mask = ~(~0u >> 1);

	while (mask) {
		putchar(x & mask ? '1' : '0');
		mask >>= 1;
	}
	putchar('\n');
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
int icmp(const void *vp1, const void *vp2)
{
	if (*(const int *)vp1 > *(const int *)vp2)
		return 1;

	if (*(const int *)vp1 < *(const int *)vp2)
		return -1;

	return 0;
}
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------



